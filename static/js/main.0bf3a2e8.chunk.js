(this["webpackJsonpbreak-reminder"]=this["webpackJsonpbreak-reminder"]||[]).push([[0],{22:function(e,t,a){e.exports=a(36)},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(12),i=a.n(s),o=a(1),c=a.n(o),l=a(2),u=a(4),p=a(5),m=a(8),f=a(6),g=a(9),d=a(7),h=function(){return function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.localStorage.setItem("lastBreaktTime",Date.now().toString()),t({type:"SET_LAST_BREAK_TIME",payload:Date.now().toString()});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},v=a(21),b=(a(33),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={gap:"",closingTime:"",isOpen:!1,isSettings:!0},a.componentDidMount=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.localStorage.getItem("breakGap")){e.next=5;break}return e.next=3,a.props.setGap("3600000");case 3:e.next=8;break;case 5:return e.next=7,a.props.setGap(window.localStorage.getItem("breakGap"));case 7:a.setState({gap:parseInt(a.props.gap)/1e3/60});case 8:if(window.localStorage.getItem("lastBreaktTime")){e.next=11;break}return e.next=11,a.props.setLastBreak();case 11:if(window.localStorage.getItem("closingTime")){e.next=16;break}return e.next=14,a.props.setClosingTime("17:00");case 14:e.next=19;break;case 16:return e.next=18,a.props.setClosingTime(window.localStorage.getItem("closingTime"));case 18:a.setState({closingTime:a.props.closingTime});case 19:case"end":return e.stop()}}),e)}))),a.handleGapChange=function(e){a.setState({gap:e.target.value})},a.handleClosingTimeChange=function(e){a.setState({closingTime:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),a.props.setGap(1e3*parseInt(a.state.gap)*60),window.localStorage.setItem("breakGap",1e3*parseInt(a.state.gap)*60),a.props.setClosingTime(a.state.closingTime),window.localStorage.setItem("closingTime",a.state.closingTime),a.setState({isOpen:!0})},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"saveResponse",value:function(){var e=this;if(this.state.isOpen)return r.a.createElement("div",{className:"save-success",onClick:function(){return e.setState({isOpen:!1})}},"Saved (Click to close!)")}},{key:"renderSettings",value:function(){var e=this;return r.a.createElement("div",{className:"settings",onClick:function(){return e.setState({isSettings:!e.state.isSettings})}},r.a.createElement(v.a,{className:"settings-icon"}),r.a.createElement("span",{className:"settings-text"},"Settings"))}},{key:"render",value:function(){return this.state.isSettings?r.a.createElement(r.a.Fragment,null,this.renderSettings()):r.a.createElement("div",null,this.renderSettings(),r.a.createElement("form",{onSubmit:this.handleSubmit},this.saveResponse(),r.a.createElement("input",{className:"input",type:"text",name:"gap",placeholder:"saved value: ".concat(this.props.gap/1e3/60),value:this.state.gap,onChange:this.handleGapChange}),r.a.createElement("label",{className:"label"},"Gap (min)"),r.a.createElement("input",{className:"input",type:"text",placeholder:"saved value: ".concat(this.props.closingTime),value:this.state.closingTime,onChange:this.handleClosingTimeChange}),r.a.createElement("label",{className:"label"},"Closing Time"),r.a.createElement("input",{className:"saveSettings",type:"submit",value:"Submit"})))}}]),t}(r.a.Component)),w=Object(d.b)((function(e){return{gap:e.settings.gap,closingTime:e.settings.closingTime}}),{setGap:function(e){return function(){var t=Object(l.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"SET_GAP",payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setClosingTime:function(e){return function(){var t=Object(l.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"SET_CLOSING_TIME",payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setLastBreak:h})(b),S=a(10),E=a(19),k=a.n(E),T=function(e){var t=Object(n.useState)(!0),a=Object(S.a)(t,2),s=a[0],i=a[1],o=Object(n.useState)(""),c=Object(S.a)(o,2),l=c[0],u=c[1],p=Object(n.useState)(null),m=Object(S.a)(p,2),f=m[0],g=m[1],d=Object(n.useState)(e.fireNotification),h=Object(S.a)(d,2),v=h[0],b=h[1];Object(n.useEffect)((function(){e.fireNotification!==v&&b(e.fireNotification)}),[e.fireNotification]);return function(){if(v){console.log("fired");var e={tag:Date.now(),body:"\xc7\u0131k\u0131p hava alma zaman\u0131n geldi!",icon:"https://www.newlifea2.org/wp-content/uploads/2015/07/Sermon_Breathe.jpg"};u("MOLA VAKT\u0130"),g(e),b(!1)}}(),r.a.createElement(k.a,{ignore:s&&""!==l,notSupported:function(){i(!0)}.bind(void 0),onPermissionGranted:function(){i(!1)}.bind(void 0),onPermissionDenied:function(){i(!0)}.bind(void 0),timeout:5e3,title:l,options:f})},O=(a(34),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={hours:null,min:null,sec:null,fireNotification:!1},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;clearInterval(this.interval),this.interval=setInterval((function(){console.log("\xe7al\u0131\u015ft\u0131m");var t=e.calculateCountdown();t?e.setState(t):e.stop()}),1e3)}},{key:"componentWillUnmount",value:function(){this.stop()}},{key:"calculateCountdown",value:function(){this.setState({fireNotification:!1});var e=Math.floor((parseInt(this.props.lastBreak)+parseInt(this.props.gap)-Date.now())/1e3);if(e<=0)return!1;var t={hours:0,min:0,sec:0,millisec:0};return e>=3600&&(t.hours=Math.floor(e/3600),e-=3600*t.hours),e>=60&&(t.min=Math.floor(e/60),e-=60*t.min),t.sec=e,t}},{key:"stop",value:function(){this.setState({fireNotification:!0})}},{key:"addLeadingZeros",value:function(e){for(e=String(e);e.length<2;)e="0"+e;return e}},{key:"render",value:function(){var e=this.state;return r.a.createElement("div",{className:"Countdown"},r.a.createElement("span",{className:"Countdown-col"},r.a.createElement("span",{className:"Countdown-col-element"},r.a.createElement("strong",null,e.hours?this.addLeadingZeros(e.hours):"00"),r.a.createElement("span",null,"Hours"))),r.a.createElement("span",{className:"Countdown-col"},r.a.createElement("span",{className:"Countdown-col-element"},r.a.createElement("strong",null,e.min?this.addLeadingZeros(e.min):"00"),r.a.createElement("span",null,"Min"))),r.a.createElement("span",{className:"Countdown-col"},r.a.createElement("span",{className:"Countdown-col-element"},r.a.createElement("strong",null,e.sec?this.addLeadingZeros(e.sec):"00"),r.a.createElement("span",null,"Sec"))),r.a.createElement(T,{fireNotification:this.state.fireNotification}))}}]),t}(r.a.Component)),y=(a(35),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(m.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={ignore:!0,title:"",fireNotif:!1,lastBreakState:null},a.handleServedMyTime=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.setLastBreak();case 2:return e.next=4,a.props.fetchLastBreak();case 4:case"end":return e.stop()}}),e)}))),a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchLastBreak()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"center"},r.a.createElement(w,null),r.a.createElement("h1",{className:"title"},"Countdown to Break:"),r.a.createElement(O,{gap:parseInt(this.props.gap),lastBreak:parseInt(this.props.lastBreakTime)}),r.a.createElement("button",{className:"servedMyTime",onClick:function(){return e.handleServedMyTime()}},"Molaya \xc7\u0131kt\u0131m"))}}]),t}(r.a.Component)),j=Object(d.b)((function(e){return{gap:e.settings.gap,lastBreakTime:e.settings.lastBreakTime}}),{fetchLastBreak:function(){return function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"FETCH_LAST_BREAK_TIME",payload:window.localStorage.getItem("lastBreaktTime")});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},setLastBreak:h})(y);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var C=a(3),N=a(11),I=Object(C.c)({settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_GAP":return Object(N.a)({},e,{gap:t.payload});case"SET_CLOSING_TIME":return Object(N.a)({},e,{closingTime:t.payload});case"FETCH_LAST_BREAK_TIME":case"SET_LAST_BREAK_TIME":return Object(N.a)({},e,{lastBreakTime:t.payload});default:return e}}}),_=a(20),B=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||C.d,x=Object(C.e)(I,B(Object(C.a)(_.a)));i.a.render(r.a.createElement(d.a,{store:x},r.a.createElement(j,null)),document.querySelector("#root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.0bf3a2e8.chunk.js.map