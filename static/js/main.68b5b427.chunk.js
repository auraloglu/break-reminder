(this["webpackJsonpbreak-reminder"]=this["webpackJsonpbreak-reminder"]||[]).push([[0],{18:function(e,t,a){},23:function(e,t,a){e.exports=a(36)},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(12),i=a.n(o),s=a(1),c=a.n(s),l=a(2),u=a(5),p=a(6),d=a(8),f=a(7),m=a(9),h=a(3),g=function(){return function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.localStorage.setItem("lastBreaktTime",Date.now().toString()),t({type:"SET_LAST_BREAK_TIME",payload:Date.now().toString()});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},N=a(22),T=(a(34),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={gap:"",closingTime:"",isOpen:!1,isSettings:!0,breakNotifHeader:"",breakNotifText:"",endNotifHeader:"",endNotifText:""},a.componentDidMount=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.localStorage.getItem("breakGap")){e.next=5;break}return e.next=3,a.props.setGap("3600000");case 3:e.next=8;break;case 5:return e.next=7,a.props.setGap(window.localStorage.getItem("breakGap"));case 7:a.setState({gap:parseInt(a.props.gap)/1e3/60});case 8:if(window.localStorage.getItem("lastBreaktTime")){e.next=11;break}return e.next=11,a.props.setLastBreak();case 11:if(window.localStorage.getItem("closingTime")){e.next=16;break}return e.next=14,a.props.setClosingTime("17:00");case 14:e.next=19;break;case 16:return e.next=18,a.props.setClosingTime(window.localStorage.getItem("closingTime"));case 18:a.setState({closingTime:a.props.closingTime});case 19:if(window.localStorage.getItem("breakNotificationHeader")){e.next=23;break}a.setState({breakNotifHeader:"It's Break Time!"}),e.next=25;break;case 23:return e.next=25,a.props.setBreakNotificationHeader(window.localStorage.getItem("breakNotificationHeader"));case 25:if(a.setState({breakNotifHeader:window.localStorage.getItem("breakNotificationHeader")}),window.localStorage.getItem("breakNotificationText")){e.next=30;break}a.setState({breakNotifText:"Lets have a break and get some air!"}),e.next=32;break;case 30:return e.next=32,a.props.setBreakNotificationText(window.localStorage.getItem("breakNotificationText"));case 32:if(a.setState({breakNotifText:window.localStorage.getItem("breakNotificationText")}),window.localStorage.getItem("endNotificationHeader")){e.next=37;break}a.setState({endNotifHeader:"IT'S GO TIME!"}),e.next=39;break;case 37:return e.next=39,a.props.setEndNotificationHeader(window.localStorage.getItem("endNotificationHeader"));case 39:if(a.setState({endNotifHeader:window.localStorage.getItem("endNotificationHeader")}),window.localStorage.getItem("endNotificationText")){e.next=44;break}a.setState({endNotifText:"Go home and get some rest!"}),e.next=46;break;case 44:return e.next=46,a.props.setEndNotificationText(window.localStorage.getItem("endNotificationText"));case 46:a.setState({endNotifText:window.localStorage.getItem("endNotificationText")});case 47:case"end":return e.stop()}}),e)}))),a.handleGapChange=function(e){a.setState({gap:e.target.value})},a.handleClosingTimeChange=function(e){a.setState({closingTime:e.target.value})},a.handleBreakNotifHeaderChange=function(e){a.setState({breakNotifHeader:e.target.value})},a.handleBreakNotifTextChange=function(e){a.setState({breakNotifText:e.target.value})},a.handleEndNotifHeaderChange=function(e){a.setState({endNotifHeader:e.target.value})},a.handleEndNotifTextChange=function(e){a.setState({endNotifText:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),a.props.setGap(1e3*parseInt(a.state.gap)*60),window.localStorage.setItem("breakGap",1e3*parseInt(a.state.gap)*60),a.props.setClosingTime(a.state.closingTime),window.localStorage.setItem("closingTime",a.state.closingTime),a.props.setBreakNotificationHeader(a.state.breakNotifHeader),a.props.setBreakNotificationText(a.state.breakNotifText),a.props.setEndNotificationHeader(a.state.endNotifHeader),a.props.setEndNotificationText(a.state.endNotifText),a.setState({isOpen:!0})},a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"saveResponse",value:function(){var e=this;if(this.state.isOpen)return r.a.createElement("div",{className:"save-success",onClick:function(){return e.setState({isOpen:!1})}},"Saved (Click to close!)")}},{key:"renderSettings",value:function(){var e=this;return r.a.createElement("div",{className:"settings",onClick:function(){return e.setState({isSettings:!e.state.isSettings})}},r.a.createElement(N.a,{className:"settings-icon"}),r.a.createElement("span",{className:"settings-text"},"Settings"))}},{key:"render",value:function(){return this.state.isSettings?r.a.createElement(r.a.Fragment,null,this.renderSettings()):r.a.createElement("div",null,this.renderSettings(),r.a.createElement("form",{onSubmit:this.handleSubmit},this.saveResponse(),r.a.createElement("input",{className:"input",type:"text",name:"gap",placeholder:"saved value: ".concat(this.props.gap/1e3/60),value:this.state.gap,onChange:this.handleGapChange}),r.a.createElement("label",{className:"label"},"Gap (min)"),r.a.createElement("input",{className:"input",type:"text",placeholder:"saved value: ".concat(this.props.closingTime),value:this.state.closingTime,onChange:this.handleClosingTimeChange}),r.a.createElement("label",{className:"label"},"Closing Time"),r.a.createElement("input",{className:"input",type:"text",placeholder:"saved value: ".concat(this.props.breakNotifHeader),value:this.state.breakNotifHeader,onChange:this.handleBreakNotifHeaderChange}),r.a.createElement("label",{className:"label"},"Break Notification Hader"),r.a.createElement("input",{className:"input",type:"text",placeholder:"saved value: ".concat(this.props.breakNotifText),value:this.state.breakNotifText,onChange:this.handleBreakNotifTextChange}),r.a.createElement("label",{className:"label"},"Break Notification Text"),r.a.createElement("input",{className:"input",type:"text",placeholder:"saved value: ".concat(this.props.endNotifHeader),value:this.state.endNotifHeader,onChange:this.handleEndNotifHeaderChange}),r.a.createElement("label",{className:"label"},"End Notification Header"),r.a.createElement("input",{className:"input",type:"text",placeholder:"saved value: ".concat(this.props.endNotifText),value:this.state.endNotifText,onChange:this.handleEndNotifTextChange}),r.a.createElement("label",{className:"label"},"End Notification Text"),r.a.createElement("input",{className:"saveSettings",type:"submit",value:"Submit"})))}}]),t}(r.a.Component)),b=Object(h.b)((function(e){return{gap:e.settings.gap,closingTime:e.settings.closingTime}}),{setGap:function(e){return function(){var t=Object(l.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"SET_GAP",payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setClosingTime:function(e){return function(){var t=Object(l.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.localStorage.setItem("closingTime",e),a({type:"SET_CLOSING_TIME",payload:e});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setLastBreak:g,setBreakNotificationHeader:function(e){return function(){var t=Object(l.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.localStorage.setItem("breakNotificationHeader",e),a({type:"SET_BREAK_NOTIFICATION_HEADER",payload:e});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setBreakNotificationText:function(e){return function(){var t=Object(l.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.localStorage.setItem("breakNotificationText",e),a({type:"SET_BREAK_NOTIFICATION_TEXT",payload:e});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setEndNotificationHeader:function(e){return function(){var t=Object(l.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.localStorage.setItem("endNotificationHeader",e),a({type:"SET_END_NOTIFICATION_HEADER",payload:e});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setEndNotificationText:function(e){return function(){var t=Object(l.a)(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.localStorage.setItem("endNotificationText",e),a({type:"SET_END_NOTIFICATION_TEXT",payload:e});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})(T),E=a(11),v=a(20),w=a.n(v),k=function(e){var t=Object(n.useState)(!0),a=Object(E.a)(t,2),o=a[0],i=a[1],s=Object(n.useState)(""),c=Object(E.a)(s,2),l=c[0],u=c[1],p=Object(n.useState)(null),d=Object(E.a)(p,2),f=d[0],m=d[1],h=Object(n.useState)(e.fireNotification),g=Object(E.a)(h,2),N=g[0],T=g[1];Object(n.useEffect)((function(){e.fireNotification!==N&&T(e.fireNotification)}),[e.fireNotification]);return function(){if(N){var t=Date.now(),a=e.header,n={tag:t,body:e.text,icon:"https://www.newlifea2.org/wp-content/uploads/2015/07/Sermon_Breathe.jpg",sound:"../sound/closingTime.mp3"};u(a),m(n),T(!1)}}(),r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{ignore:o&&""!==l,notSupported:function(){i(!0)}.bind(void 0),onPermissionGranted:function(){i(!1)}.bind(void 0),onPermissionDenied:function(){i(!0)}.bind(void 0),timeout:5e3,title:l,options:f}))},S=(a(18),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={hours:null,min:null,sec:null,fireNotification:!1},a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;clearInterval(this.interval),this.interval=setInterval((function(){var t=e.calculateCountdown();t?e.setState(t):e.stop()}),1e3)}},{key:"componentWillUnmount",value:function(){this.stop()}},{key:"calculateCountdown",value:function(){var e=Math.floor((parseInt(this.props.lastBreak)+parseInt(this.props.gap)-Date.now())/1e3);if(e<=0)return!1;var t={hours:0,min:0,sec:0,millisec:0};return e>=3600&&(t.hours=Math.floor(e/3600),e-=3600*t.hours),e>=60&&(t.min=Math.floor(e/60),e-=60*t.min),t.sec=e,t}},{key:"stop",value:function(){this.setState({fireNotification:!0})}},{key:"addLeadingZeros",value:function(e){for(e=String(e);e.length<2;)e="0"+e;return e}},{key:"render",value:function(){var e=this.state;return r.a.createElement("div",{className:"Countdown"},r.a.createElement("span",{className:"Countdown-col"},r.a.createElement("span",{className:"Countdown-col-element"},r.a.createElement("strong",null,e.hours?this.addLeadingZeros(e.hours):"00"),r.a.createElement("span",null,"Hours"))),r.a.createElement("span",{className:"Countdown-col"},r.a.createElement("span",{className:"Countdown-col-element"},r.a.createElement("strong",null,e.min?this.addLeadingZeros(e.min):"00"),r.a.createElement("span",null,"Min"))),r.a.createElement("span",{className:"Countdown-col"},r.a.createElement("span",{className:"Countdown-col-element"},r.a.createElement("strong",null,e.sec?this.addLeadingZeros(e.sec):"00"),r.a.createElement("span",null,"Sec"))),r.a.createElement(k,{fireNotification:this.state.fireNotification,header:this.props.breakNotifHeader,text:this.props.breakNotifText}))}}]),t}(r.a.Component)),x=Object(h.b)((function(e){return{breakNotifHeader:e.settings.breakNotificationHeader,breakNotifText:e.settings.breakNotificationText}}))(S),O=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={hours:null,min:null,sec:null,fireNotification:!1,now:null},a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({now:new Date}),clearInterval(this.interval),this.interval=setInterval((function(){var t=e.calculateCountdown();t?e.setState(t):e.stop()}),1e3)}},{key:"componentWillUnmount",value:function(){this.stop()}},{key:"calculateCountdown",value:function(){this.setState({fireNotification:!1});var e=this.props.closingTime.split(":"),t=this.state.now;t.setHours(parseInt(e[0])),t.setMinutes(parseInt(e[1]));var a=Math.floor((t.getTime()-Date.now())/1e3);if(a<=0)return!1;var n={hours:0,min:0,sec:0,millisec:0};return a>=3600&&(n.hours=Math.floor(a/3600),a-=3600*n.hours),a>=60&&(n.min=Math.floor(a/60),a-=60*n.min),n.sec=a,n}},{key:"stop",value:function(){this.setState({fireNotification:!0}),clearInterval(this.interval)}},{key:"addLeadingZeros",value:function(e){for(e=String(e);e.length<2;)e="0"+e;return e}},{key:"render",value:function(){var e=this.state;return r.a.createElement("div",{className:"Countdown"},r.a.createElement("span",{className:"Countdown-col"},r.a.createElement("span",{className:"Countdown-col-element"},r.a.createElement("strong",null,e.hours?this.addLeadingZeros(e.hours):"00"),r.a.createElement("span",null,"Hours"))),r.a.createElement("span",{className:"Countdown-col"},r.a.createElement("span",{className:"Countdown-col-element"},r.a.createElement("strong",null,e.min?this.addLeadingZeros(e.min):"00"),r.a.createElement("span",null,"Min"))),r.a.createElement("span",{className:"Countdown-col"},r.a.createElement("span",{className:"Countdown-col-element"},r.a.createElement("strong",null,e.sec?this.addLeadingZeros(e.sec):"00"),r.a.createElement("span",null,"Sec"))),r.a.createElement(k,{fireNotification:this.state.fireNotification,header:this.props.endNotifHeader,text:this.props.endNotifText}))}}]),t}(r.a.Component),I=Object(h.b)((function(e){return{endNotifHeader:e.settings.endNotificationHeader,endNotifText:e.settings.endNotificationText}}))(O),y=(a(35),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={ignore:!0,title:"",fireNotif:!1,lastBreakState:null},a.handleServedMyTime=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.setLastBreak();case 2:return e.next=4,a.props.fetchLastBreak();case 4:case"end":return e.stop()}}),e)}))),a}return Object(m.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchLastBreak()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"center"},r.a.createElement(b,null),r.a.createElement("h1",{className:"title"},"Countdown to Break:"),r.a.createElement(x,{gap:parseInt(this.props.gap),lastBreak:parseInt(this.props.lastBreakTime)}),r.a.createElement("button",{className:"servedMyTime",onClick:function(){return e.handleServedMyTime()}},"Served My Time"),r.a.createElement("h1",{className:"title"},"Countdown to End of Suffering:"),r.a.createElement(I,{closingTime:this.props.closingTime}))}}]),t}(r.a.Component)),C=Object(h.b)((function(e){return{gap:e.settings.gap,lastBreakTime:e.settings.lastBreakTime,closingTime:e.settings.closingTime}}),{fetchLastBreak:function(){return function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"FETCH_LAST_BREAK_TIME",payload:window.localStorage.getItem("lastBreaktTime")});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},setLastBreak:g})(y);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var j=a(10),H=a(4),_=Object(j.c)({settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_GAP":return Object(H.a)({},e,{gap:t.payload});case"SET_CLOSING_TIME":return Object(H.a)({},e,{closingTime:t.payload});case"FETCH_LAST_BREAK_TIME":case"SET_LAST_BREAK_TIME":return Object(H.a)({},e,{lastBreakTime:t.payload});case"SET_BREAK_NOTIFICATION_HEADER":return Object(H.a)({},e,{breakNotificationHeader:t.payload});case"SET_BREAK_NOTIFICATION_TEXT":return Object(H.a)({},e,{breakNotificationText:t.payload});case"SET_END_NOTIFICATION_HEADER":return Object(H.a)({},e,{endNotificationHeader:t.payload});case"SET_END_NOTIFICATION_TEXT":return Object(H.a)({},e,{endNotificationText:t.payload});default:return e}}}),B=a(21),A=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||j.d,M=Object(j.e)(_,A(Object(j.a)(B.a)));i.a.render(r.a.createElement(h.a,{store:M},r.a.createElement(C,null)),document.querySelector("#root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.68b5b427.chunk.js.map